{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MuhammadNabilBinMaha/Videos/prefect10/PREFECT-10/config/db.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nlet cached = global.mongoose || {conn: null, promise: null};\r\n\r\nexport default async function connectDB(){\r\n    if(cached.conn) return cached.conn;\r\n    if(!cached.promise){\r\n        cached.promise = mongoose.connect(process.env.MONGODB_URI).then((mongoose) => mongoose);\r\n    }\r\n    try {\r\n        cached.conn = await cached.promise;\r\n    } catch (error) {\r\n        console.error(\"Error connecting to MongoDB:\", error);\r\n    }\r\n    return cached.conn\r\n}"],"names":[],"mappings":";;;;AAAA;;AAEA,IAAI,SAAS,yDAAO,QAAQ,IAAI;IAAC,MAAM;IAAM,SAAS;AAAI;AAE3C,eAAe;IAC1B,IAAG,OAAO,IAAI,EAAE,OAAO,OAAO,IAAI;IAClC,IAAG,CAAC,OAAO,OAAO,EAAC;QACf,OAAO,OAAO,GAAG,oHAAQ,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC,WAAa;IAClF;IACA,IAAI;QACA,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IACtC,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,gCAAgC;IAClD;IACA,OAAO,OAAO,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MuhammadNabilBinMaha/Videos/prefect10/PREFECT-10/models/Chat.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst ChatSchema = new mongoose.Schema(\r\n    {\r\n        name: {type: String, required: true},\r\n        messages: [\r\n            {\r\n                role: {type: String, required: true},\r\n                content: {type: String, required: true},\r\n                timestamp: {type: Number, required: true},\r\n            },\r\n        ],\r\n        userId: {type: String, required: true},\r\n    },\r\n    {timestamps: true}\r\n);\r\n\r\nconst Chat = mongoose.models.Chat || mongoose.model(\"Chat\", ChatSchema)\r\n\r\nexport default Chat;"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,aAAa,IAAI,oHAAQ,CAAC,MAAM,CAClC;IACI,MAAM;QAAC,MAAM;QAAQ,UAAU;IAAI;IACnC,UAAU;QACN;YACI,MAAM;gBAAC,MAAM;gBAAQ,UAAU;YAAI;YACnC,SAAS;gBAAC,MAAM;gBAAQ,UAAU;YAAI;YACtC,WAAW;gBAAC,MAAM;gBAAQ,UAAU;YAAI;QAC5C;KACH;IACD,QAAQ;QAAC,MAAM;QAAQ,UAAU;IAAI;AACzC,GACA;IAAC,YAAY;AAAI;AAGrB,MAAM,OAAO,oHAAQ,CAAC,MAAM,CAAC,IAAI,IAAI,oHAAQ,CAAC,KAAK,CAAC,QAAQ;uCAE7C","debugId":null}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MuhammadNabilBinMaha/Videos/prefect10/PREFECT-10/app/api/chat/get/route.js"],"sourcesContent":["import connectDB from \"@/config/db\";\r\nimport Chat from \"@/models/Chat\";\r\nimport { getAuth } from \"@clerk/nextjs/server\";\r\nimport { NextResponse } from \"next/server\";\r\n\r\nexport async function GET(req){\r\n    try {\r\n        const { userId } = getAuth(req);\r\n\r\n        if (!userId) {\r\n            return NextResponse.json({\r\n              success: false,\r\n              message: \"User not authenticated\",\r\n            });\r\n          }\r\n\r\n          // Connect to the database and fetch all chats for the user\r\n          await connectDB();\r\n          const data = await Chat.find({userId});\r\n\r\n          return NextResponse.json({ success: true, data })\r\n    } catch (error) {\r\n        return NextResponse.json({ success: false, error: error.message });\r\n    }\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEO,eAAe,IAAI,GAAG;IACzB,IAAI;QACA,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,wLAAO,EAAC;QAE3B,IAAI,CAAC,QAAQ;YACT,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,SAAS;YACX;QACF;QAEA,2DAA2D;QAC3D,MAAM,IAAA,yHAAS;QACf,MAAM,OAAO,MAAM,2HAAI,CAAC,IAAI,CAAC;YAAC;QAAM;QAEpC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM;QAAK;IACrD,EAAE,OAAO,OAAO;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAO,OAAO,MAAM,OAAO;QAAC;IACpE;AACJ","debugId":null}}]
}