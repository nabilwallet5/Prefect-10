(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1257:()=>{},1290:()=>{},2298:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(926);let s=(0,a.createServerReference)("7f2f37440ff7db15ab7f1241c8e63f30f7407657de",a.callServer,void 0,a.findSourceMapURL,"detectKeylessEnvDriftAction")},4639:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,1290,23)),Promise.resolve().then(r.t.bind(r,1257,23)),Promise.resolve().then(r.bind(r,9111)),Promise.resolve().then(r.bind(r,9309)),Promise.resolve().then(r.bind(r,8543)),Promise.resolve().then(r.bind(r,2004)),Promise.resolve().then(r.bind(r,3618)),Promise.resolve().then(r.bind(r,7471)),Promise.resolve().then(r.bind(r,1526)),Promise.resolve().then(r.t.bind(r,5967,23)),Promise.resolve().then(r.bind(r,2663))},8196:(e,t,r)=>{"use strict";r.d(t,{y:()=>s});var a=r(926);let s=(0,a.createServerReference)("7f248ea0a992a44213b276ea6fb928bb009d1da467",a.callServer,void 0,a.findSourceMapURL,"invalidateCacheAction")},9111:(e,t,r)=>{"use strict";r.d(t,{AppContextProvider:()=>h,U:()=>l});var a=r(5155),s=r(4511),n=r(7471),o=r(5125),i=r(2115),d=r(2663);let c=(0,i.createContext)(),l=()=>(0,i.useContext)(c),h=e=>{let{children:t}=e,{user:r}=(0,s.Jd)(),{getToken:l}=(0,n.d)(),[h,v]=(0,i.useState)([]),[u,f]=(0,i.useState)(null),b=async()=>{try{if(!r)return null;let e=await l();await o.A.post("/api/chat/create",{},{headers:{Authorization:"Bearer ".concat(e)}}),m()}catch(e){d.Ay.error(e.message)}},m=async()=>{try{let e=await l(),{data:t}=await o.A.get("/api/chat/get",{headers:{Authorization:"Bearer ".concat(e)}});if(t.success){if(console.log(t.data),v(t.data),0===t.data.length)return await b(),m();t.data.sort((e,t)=>new Date(t.updatedAt)-new Date(e.updatedAt)),f(t.data[0]),console.log(t.data[0])}else d.Ay.error(t.message)}catch(e){d.Ay.error(e.message)}};return(0,i.useEffect)(()=>{r&&m()},[r]),(0,a.jsx)(c.Provider,{value:{user:r,chats:h,setChats:v,selectedChat:u,setSelectedChat:f,fetchUsersChats:m,createNewChat:b},children:t})}}},e=>{e.O(0,[448,873,685,441,255,358],()=>e(e.s=4639)),_N_E=e.O()}]);